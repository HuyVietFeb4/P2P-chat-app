\documentclass[12pt,a4paper]{article}
% \usepackage[english, vietnam]{babel}
\usepackage[T5,T1]{fontenc}
% \usepackage{mathptmx}[ptm]
%\usepackage[utf8]{inputenc}
\usepackage[utf8]{vietnam}
%\usepackage[francais]{babel}
\usepackage{a4wide,amssymb,epsfig,latexsym,array,hhline,fancyhdr}
\usepackage[american]{babel}
\usepackage{csquotes}
\usepackage[style=apa, citestyle=numeric, backend=biber, sorting=none]{biblatex}
% \usepackage{apacite}
\usepackage[toc,page]{appendix}
\usepackage{pifont,amssymb}
\newcommand{\emptysquare}{$\square$}
\newcommand{\checkedsquare}{\makebox[0pt][l]{\raisebox{1pt}[0pt][0pt]{\large\hspace{1pt}\cmark}}$\square$}
\newcommand{\cmark}{\ding{51}}

\DeclareFieldFormat{labelnumberwidth}{\mkbibbrackets{#1}}

\defbibenvironment{bibliography}
  {\list
     {\printtext[labelnumberwidth]{%
      \printfield{labelprefix}%
      \printfield{labelnumber}}}
     {\setlength{\labelwidth}{\labelnumberwidth}%
      \setlength{\leftmargin}{\labelwidth}%
      \setlength{\labelsep}{\biblabelsep}%
      \addtolength{\leftmargin}{\labelsep}%
      \setlength{\itemsep}{\bibitemsep}%
      \setlength{\parsep}{\bibparsep}}%
      \renewcommand*{\makelabel}[1]{\hss##1}}
  {\endlist}
  {\item}

\addbibresource{newrefs.bib}
% \newcommand*{\captionsource}[2]{%
% \centering
%   \caption[{#1}]{%
%     #1%
%     \\\hspace{\linewidth}%
%     \textbf{Source:} #2%
%   }%
% }

\usepackage{vcell}
\usepackage{tabularray}
%\usepackage{soul}

\usepackage[makeroom]{cancel}
\usepackage{amsmath}
\usepackage{wrapfig}
\usepackage{amsthm}
\usepackage{multicol,longtable,amscd}
\usepackage{diagbox}%Make diagonal lines in tables
\usepackage{booktabs}
\usepackage{alltt}
\usepackage[framemethod=tikz]{mdframed}% For highlighting paragraph backgrounds
\usepackage{caption,subcaption}
\usepackage{float}
\usepackage{lastpage}
\usepackage[lined,boxed,commentsnumbered]{algorithm2e}
\usepackage{enumerate}
\usepackage{color}
\usepackage{graphicx}							% Standard graphics package
\usepackage{array}
\usepackage{tabularx, caption}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{enumitem}
\usepackage{rotating}
\usepackage{graphics}
\usepackage{geometry}
\usepackage{setspace}
\usepackage{epsfig}
\usepackage{tikz}
\usepackage{titlesec}
\usepackage{url}
\usepackage{ragged2e}
\usepackage{makecell}
% \usepackage[style=apa]{biblatex}
% \usepackage{natbib}
% \bibliographystyle{ieeetr}

\usetikzlibrary{arrows,snakes,backgrounds,calc}
\usepackage{hyperref}
\hypersetup{urlcolor=blue,linkcolor=black,citecolor=black,colorlinks=true}
\usepackage{listings}
\usepackage{titlesec}
\titleformat{\paragraph}
  {\normalfont\normalsize\bfseries}
  {\theparagraph}
  {1em}
  {}

%\usepackage{pstcol} 								% PSTricks with the standard color package

\usepackage[normalem]{ulem}

\newtheorem{theorem}{{\bf Định lý}}
\newtheorem{property}{{\bf Tính chất}}
\newtheorem{proposition}{{\bf Mệnh đề}}
\newtheorem{corollary}[proposition]{{\bf Hệ quả}}
\newtheorem{lemma}[proposition]{{\bf Bổ đề}}
\theoremstyle{definition}
\newtheorem{exer}{Bài toán}

\def\thesislayout{	% A4: 210 × 297
	\geometry{
		a4paper,
		total={160mm,240mm},  % fix over page
		left=30mm,
		top=30mm,
	}
}
\def\thesisheadlayout{	% A4: 210 × 297
	\geometry{
		a4paper,
		total={160mm,240mm},  % fix over page
		left=30mm,
		top=10mm,
	}
}
\thesislayout
\lstset{
    language=R,
    basicstyle=\footnotesize\sffamily,
    commentstyle=\ttfamily\color{black},
    numbers=left,
    numberstyle=\ttfamily\color{black}\footnotesize,
    stepnumber=1,
    numbersep=5pt,
    backgroundcolor=\color{white},
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    frame=single,
    tabsize=2,
    captionpos=b,
    breaklines=true,
    breakatwhitespace=false,
    title=\lstname,
    escapeinside={},
    keywordstyle={},
    morekeywords={}
}
%\usepackage{fancyhdr}
\setlength{\headheight}{40pt}
\pagestyle{fancy}
\fancyhead{} % clear all header fields
\fancyhead[L]{
 \begin{tabular}{rl}
    \begin{picture}(25,15)(0,0)
    \put(0,-8){\includegraphics[width=12mm, height=12mm]{Images/hcmut.png}}
    %\put(0,-8){\epsfig{width=10mm,figure=hcmut.eps}}
   \end{picture}&
	%\includegraphics[width=12mm, height=12mm]{hcmut.png} & %
	\begin{tabular}{l}
		\textbf{  Ho Chi Minh City University of Technology }\\
		\textbf{  Faculty of Computer Science and Engineering }
	\end{tabular} 	
 \end{tabular}
}
\fancyhead[R]{
	\begin{tabular}{l}
		\tiny \bf \\
		\tiny \bf 
	\end{tabular}  }
\fancyfoot{} % clear all footer fields
\fancyfoot[L]{\scriptsize  Specialized project report}
\fancyfoot[R]{\scriptsize  Page {\thepage}/\pageref{LastPage}}
\renewcommand{\headrulewidth}{0.3pt}
\renewcommand{\footrulewidth}{0.3pt}


%%%
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{3}
\makeatletter
\newcounter {subsubsubsection}[subsubsection]
\renewcommand\thesubsubsubsection{\thesubsubsection .\@alph\c@subsubsubsection}
\newcommand\subsubsubsection{\@startsection{subsubsubsection}{4}{\z@}%
                                     {-3.25ex\@plus -1ex \@minus -.2ex}%
                                     {1.5ex \@plus .2ex}%
                                     {\normalfont\normalsize\bfseries}}
\newcommand*\l@subsubsubsection{\@dottedtocline{3}{7.0em}{4.1em}}
\newcommand*{\subsubsubsectionmark}[1]{}
\makeatother

\everymath{\color{black}}%make in-line maths symbols blue to read/check easily

\sloppy
\captionsetup[figure]{labelfont={small,bf},textfont={small,it},belowskip=-1pt,aboveskip=5pt}
%space remove between caption, figure, and text
\captionsetup[table]{labelfont={small,bf},textfont={small,it},belowskip=-1pt,aboveskip=7pt}
\setlength{\floatsep}{5pt plus 2pt minus 2pt}
\setlength{\textfloatsep}{5pt plus 2pt minus 2pt}
\setlength{\intextsep}{10pt plus 2pt minus 2pt}
\DeclareTextFontCommand{\textvietnamese}{\fontencoding{T5}\selectfont}

\thesislayout

%% Spacings
\onehalfspacing     % spacing between lines
\setlength{\parskip}{7.5pt} % between paragraphs
\setlength{\parindent}{7pt} % new para indentation
\titlespacing*{\section}{0pt}{1.5em}{0.8em}
\titlespacing*{\subsection}{0pt}{1.2em}{0.6em}
\titlespacing*{\subsubsection}{0pt}{1em}{0.5em}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

\begin{titlepage}
\begin{tikzpicture}[remember picture, overlay]
  \draw[line width = 4pt] ($(current page.north west) + (0.4in,-0.5in)$) rectangle ($(current page.south east) + (-0.4in,0.5in)$);
  \draw[line width=1.5pt]
    ($ (current page.north west) + (0.45in,-0.55in) $)
    rectangle
    ($ (current page.south east) + (-0.45in,0.55in) $);
\end{tikzpicture}

\begin{singlespace}
\vspace{-2cm}
\begin{center}
\fontsize{15}{12} \textbf{Vietnam National University Ho Chi Minh City} \\
\vspace{0.2cm}
\fontsize{15}{12} \textbf{University of Technology} \\
\vspace{0.2cm}
\fontsize{15}{12} \textbf{Faculty of Computer Science and Engineering}
\end{center}
\end{singlespace}

\vspace{0.2cm}

\begin{figure}[h!]
\begin{center}
\includegraphics[width=5cm]{Images/hcmut.png}
\end{center}
\end{figure}

\vspace{0.3cm}

\begin{center}
\fontsize{15}{12} \textbf{SPECIALIZED PROJECT}  \\ 
\fontsize{15}{12} \textbf{REPORT}  \\ 
\end{center}

\vspace{0.5cm}

\begin{center}
    \setstretch{1.9}\fontsize{23}{12} \textbf{ENCRYPTED PEER-TO-PEER MESSAGING APP OVER BLUETOOTH MESH NETWORKS} \\
    \vspace{0.5em}
    \fontsize{15}{12}\selectfont Major: Computer Science \\
\end{center}

\vspace{0.5cm}

\begin{center}
\fontsize{15}{12}\selectfont{
\renewcommand{\arraystretch}{1.3}
\begin{tabular}{rl}
    \textbf{THESIS COMMITTEE:} & HCMUT. CompScience Council  \\
    \textbf{SUPERVISOR:} & Assoc. Prof. Trương Tuấn Anh, PhD  \\
    \multicolumn{2}{c}{\textbf{---o0o---}} \\
    \textbf{STUDENT 1:} & Trần Trung Vĩnh (2252914) \\
    \textbf{STUDENT 2}: & Nguyễn Trần Huy Việt (2252906) \\
    \textbf{STUDENT 3:} & Nguyễn Anh Quân (2252678) \\
    \textbf{STUDENT 4:} & Lê Phan Nhật Minh (2252478)
    
\end{tabular}
}
\end{center}

\vspace{2.2cm}

\begin{center}
    \fontsize{15}{12}\selectfont Ho Chi Minh City, October 2025
\end{center}
\end{titlepage}



% \vspace{2\baselineskip}

% \noindent\rule{4in}{0.7pt} \hfill \rule{1.5in}{0.7pt}

% \noindent Darth Sion\\
% Professor, Department of Chemistry and Biochemistry\\
% University of Sichuan Gourmet Kitchen\\
% Thesis Committee

% \vspace{2\baselineskip}

% (etc.)
\newpage
\begin{center}
    \textbf{\Large PROTESTATION}
\end{center}

\par\hfill\textbf{Authors}\hspace{1cm}
\par\hfill\textit{Trần Trung Vĩnh}
\par\hfill\textit{Nguyễn Trần Huy Việt}
\par\hfill\textit{Nguyễn Anh Quân}
\par\hfill\textit{Lê Phan Nhật Minh}
\newpage

\begin{center}
    \textbf{\Large ACKNOWLEDGEMENTS}
\end{center}

\par\hfill\textbf{Authors}\hspace{1cm}
\par\hfill\textit{Trần Trung Vĩnh}
\par\hfill\textit{Nguyễn Trần Huy Việt}
\par\hfill\textit{Nguyễn Anh Quân}
\par\hfill\textit{Lê Phan Nhật Minh}
\newpage

\begin{center}
    \textbf{\Large Abstract}
\end{center}
\indent \indent This project presents the design and development of a decentralized messaging and file-sharing application using a Bluetooth mesh network. The system enables communication in environments where conventional internet or cellular networks are unavailable, such as during natural disasters, protests, large public gatherings, or remote outdoor activities. The application supports peer-to-peer encrypted messaging and secure file transfers, ensuring user privacy and data protection. To enhance reliability and scalability, it utilizes multiple data transmission techniques—including relay, hopping, and flooding—allowing messages to propagate efficiently across devices within the mesh network. This solution demonstrates how local wireless connectivity can be leveraged to create a resilient, infrastructure-independent communication platform for emergency and off-grid scenarios.
\newpage

\begin{singlespace}
\tableofcontents
\end{singlespace}
\newpage

\begin{singlespace}
\listoffigures
\end{singlespace}
\newpage

\begin{singlespace}
\listoftables
\end{singlespace}
\newpage

% \section{Introduction}
% \subsection{Motivation}
% In recent years, the increasing reliance on centralized communication infrastructures has exposed significant vulnerabilities during emergencies and connectivity outages. Natural disasters, political unrest, and network restrictions often render traditional internet-based communication useless, leaving people isolated and unable to coordinate or request help.  
% Furthermore, growing privacy concerns highlight the risks of centralized servers that can collect, monitor, or expose user data.  

% This project is motivated by the need for a secure, privacy-preserving, and infrastructure-independent communication system. By leveraging Bluetooth Mesh technology and end-to-end encryption, the proposed system enables direct, resilient, and private communication between users, even in the absence of mobile networks or Wi-Fi.


% \subsection{Objectives}
% The primary objectives of this project are as follows:

% \begin{itemize}
%     \item \textbf{To design and develop} a decentralized peer-to-peer messaging application using Bluetooth Mesh communication.
%     \item \textbf{To ensure security and privacy} through end-to-end encryption, authentication, and integrity protection.
%     \item \textbf{To support offline communication} in environments where internet or cellular networks are unavailable or unreliable.
%     \item \textbf{To optimize performance and battery efficiency} by using Bluetooth Low Energy (BLE) for background operation.
%     \item \textbf{To provide a user-friendly interface} that allows non-technical users to communicate easily without complex setup.
%     \item \textbf{To evaluate system scalability and reliability} across different real-world use cases such as disaster zones, remote communities, and crowded public events.
% \end{itemize}
% \subsection{Scope}
% The scope of this project includes the design, implementation, and testing of a Bluetooth Mesh-based communication system that enables short- to medium-range peer-to-peer messaging. The project focuses on local device-to-device networking without reliance on internet or mobile infrastructure.  

% Key features within the project scope include:
% \begin{itemize}
%     \item Bluetooth Mesh message routing, node discovery, and relay functionality.
%     \item End-to-end encryption for all transmitted data.
%     \item Text and small media (e.g., image) message exchange.
%     \item Android-based implementation using Kotlin and BLE APIs.
% \end{itemize}

% Out of scope for this project:
% \begin{itemize}
%     \item Integration with cloud or server-based systems.
%     \item Long-range or cross-network message relaying via the internet.
%     \item Support for iOS or other operating systems in the current version (planned for future expansion).
% \end{itemize}

% The project will thus deliver a fully functional Android prototype demonstrating secure, decentralized, and offline communication over Bluetooth Mesh networks.
% \subsection{Significance of the Project}

% \subsubsection{Significance from the Practical Perspectives}

% \subsubsection{Significance from the Scientific Perspectives}

% \subsection{Report structure}

\input{Sections/chap1_introduction.tex}
\newpage
\input{Sections/chap2_background_knowledge.tex}
\newpage
% \input{Sections/chap3_technology_stack.tex}
% \newpage
\input{Sections/chap4_related_work.tex}
\newpage
\input{Sections/chap5_requirements_elicitation.tex}
\newpage
\input{Sections/chap6_system_analysis.tex}
\newpage
\input{Sections/chap7_system_design.tex}
\newpage
\input{Sections/chap8_system_implementation.tex}
\newpage
\input{Sections/chap9_system_evaluation.tex}
\newpage
\input{Sections/chap10_conclusion.tex}
\newpage
% \section*{References}
\addcontentsline{toc}{section}{References}
% \bibliographystyle{apa}
% \bibliography{refs.bib} % Entries are in the refs.bib file
\printbibliography
\end{document}